import type { SvgIconProps } from '@mui/material';
import { styled } from '@mui/material';

import { SvgIcon } from './SvgIcon';

type StyledStarIconProps = SvgIconProps & {
  variant: 'default' | 'favorite' | 'disable';
  size: 'small' | 'medium';
  isAnimation?: boolean;
  strokeColor?: string;
  fillColor?: string;
};

// 薄くするアニメーション
const NormalPath = styled('path')({
  '@keyframes thin': {
    '0%': {
      opacity: 1,
      transform: 'scale(0.8), translate(0, 0)',
    },
    '10%': {
      opacity: 0.7,
    },
    '15%': {
      opacity: 0.3,
    },
    '100%': {
      opacity: 0,
    },
  },
  '&.favorite.animation': {
    animation: 'thin 0.4s ease forwards',
  },
  '&.default': {
    display: 'inherit',
  },
  '&.disable': {
    fill: '#90a4ae',
  },
});

// パーティクルのアニメーション
const ParticlePath = styled('path')({
  transform: 'scale(0.9) translate(6%,6%)',
  '@keyframes particle': {
    '0%': {
      transform: `scale(0) translate(50%,50%)`,
      opacity: 0,
    },
    '30%': {
      transform: `scale(0.3) translate(1)`,
      opacity: 0,
    },
    '70%': {
      transform: `scale(0.7) translate(2)`,
      opacity: 1,
    },
    '80%': {
      transform: `scale(0.8) translate(3)`,
      opacity: 0.7,
    },
    '100%': {
      transform: `scale(1) translate(4)`,
      opacity: 0,
    },
  },
  '&.favorite.animation': {
    animation: 'particle 0.4s ease forwards',
  },
  '&.default': {
    display: 'none',
  },
  '&.disable': {
    display: 'none',
  },
});

// 黄色のスターのアニメーション
const FillPath = styled('path')({
  '@keyframes fill': {
    '0%': {
      transform: 'scale(0)',
    },
    '15%': {
      transform: 'scale(0.5)',
    },
    '50%': {
      transform: 'scale(1)',
    },
    '70%': {
      transform: 'scale(0.6)',
    },
    '100%': {
      transform: 'scale(0.9)',
    },
  },
  '&.favorite.animation': {
    transformOrigin: 'center',
    animation: 'fill 0.4s ease forwards',
  },
  '&.default': {
    opacity: '0',
  },
  '&.disable': {
    display: 'none',
  },
});

export const StarIcon = ({
  variant,
  size,
  isAnimation = true,
  strokeColor = '#3CB37A',
  fillColor = '#FFB128',
}: StyledStarIconProps) => {
  const animationClass = isAnimation ? 'animation' : '';

  return (
    <SvgIcon
      sx={{
        fontSize:
          size === 'small' ? '16px' : size === 'medium' ? '24px' : undefined,
      }}
    >
      {/*  default */}
      <NormalPath
        className={`${variant} ${animationClass}`}
        d='m18.35,23.88c-.83-.04-1.63-.29-2.33-.74l-3.35-1.98c-.21-.11-.44-.16-.68-.15-.24,0-.47.04-.68.15l-3.34,1.98c-.69.45-1.49.7-2.32.74-.33.01-.66-.05-.97-.19-.3-.14-.57-.34-.78-.6-.3-.47-.49-1-.57-1.56-.07-.55-.02-1.12.16-1.65l.79-3.43c.03-.22.02-.45-.04-.66s-.17-.42-.31-.59l-2.78-2.77c-.46-.37-.8-.87-.99-1.43-.19-.56-.22-1.16-.09-1.73.23-.54.6-1.01,1.08-1.35.48-.34,1.04-.54,1.63-.58l3.57-.59c.4-.11.75-.37.96-.72l1.97-3.94c.21-.56.58-1.05,1.05-1.42.48-.37,1.05-.59,1.64-.65.6.06,1.17.28,1.64.65.48.37.84.86,1.05,1.42l1.97,3.94c.22.36.57.61.97.72l3.57.59c.59.04,1.16.24,1.64.58.48.34.86.81,1.09,1.36.13.58.1,1.18-.1,1.73-.19.56-.54,1.05-1,1.42l-2.77,2.77c-.14.17-.25.37-.31.58-.06.21-.08.44-.05.66l.8,3.44c.17.53.23,1.1.16,1.65-.07.56-.26,1.09-.56,1.56-.21.26-.47.46-.77.6-.3.14-.63.2-.96.19Zm-6.35-4.55c.54,0,1.07.13,1.53.39l3.35,1.98c.42.3.92.48,1.43.54.09,0,.19-.01.28-.05.09-.04.16-.09.23-.17.23-.29.25-.88.04-1.76l-.8-3.45c-.09-.5-.06-1.01.08-1.49.14-.49.39-.93.73-1.3l2.78-2.78c.57-.56.8-1.06.68-1.46-.12-.39-.61-.66-1.4-.8l-3.57-.59c-.46-.1-.9-.29-1.28-.57-.38-.28-.7-.64-.92-1.06l-1.98-3.94c-.38-.76-.78-1.14-1.19-1.14s-.81.38-1.19,1.14l-1.96,3.93c-.23.41-.54.77-.92,1.06-.38.28-.81.48-1.28.58l-3.57.59c-.79.13-1.27.41-1.4.8s.11.9.67,1.46l2.78,2.78c.34.37.59.82.73,1.3.14.49.17,1,.07,1.49l-.79,3.44c-.2.87-.19,1.46.05,1.75.06.07.14.13.23.17s.18.06.28.05c.51-.06,1-.24,1.42-.53l3.36-1.99c.47-.26,1-.39,1.53-.38Z'
        fill={strokeColor}
      />

      {/*  favorite */}
      <g fill={fillColor}>
        <ParticlePath
          className={`${variant} ${animationClass}`}
          d='M11.8225 1.69577C11.853 1.74655 11.9037 1.78718 11.9545 1.81765C11.9748 1.8278 12.0053 1.83796 12.0256 1.83796C12.0459 1.83796 12.0764 1.83796 12.0967 1.81765C12.1272 1.79733 12.1577 1.76686 12.178 1.72624C12.1983 1.68561 12.2084 1.65514 12.2186 1.60436L12.2694 1.35044C12.2694 1.35044 12.2795 1.31997 12.2897 1.30982C12.2998 1.29966 12.31 1.2895 12.3303 1.27935L12.6045 1.17778C12.6045 1.17778 12.6858 1.14731 12.7163 1.10669C12.7467 1.07622 12.7671 1.03559 12.7772 0.994963C12.7772 0.954337 12.7671 0.903554 12.7467 0.873084C12.7264 0.832458 12.696 0.801988 12.6553 0.781675L12.4319 0.639483C12.4319 0.639483 12.3913 0.5887 12.3913 0.55823L12.3709 0.233219C12.3709 0.233219 12.3709 0.14181 12.3405 0.101184C12.3202 0.0605576 12.2897 0.0300878 12.2491 0.00977468C12.2084 -0.000381897 12.1577 -0.0105385 12.117 0.00977468C12.0764 0.0199313 12.0358 0.0402444 12.0053 0.0707142L11.7514 0.284002C11.7514 0.284002 11.6905 0.304316 11.66 0.304316L11.3959 0.243376C11.3959 0.243376 11.3147 0.223063 11.2639 0.243376C11.2232 0.243376 11.1826 0.273846 11.1522 0.304316C11.1217 0.334785 11.1115 0.385568 11.1115 0.426195C11.1115 0.466821 11.1115 0.517604 11.1318 0.548073L11.2334 0.822301C11.2334 0.822301 11.2334 0.852771 11.2334 0.873084C11.2334 0.893397 11.2334 0.903554 11.2131 0.923867L11.0607 1.13716C11.0607 1.13716 11.01 1.20825 10.9998 1.24888C10.9896 1.2895 10.9896 1.33013 10.9998 1.37076C10.9998 1.39107 11.0201 1.41138 11.0303 1.4317C11.0506 1.45201 11.0709 1.46217 11.0912 1.47232C11.1522 1.49264 11.2131 1.50279 11.274 1.49264L11.5584 1.46217C11.5584 1.46217 11.5889 1.46217 11.6092 1.46217C11.6295 1.46217 11.6397 1.48248 11.6498 1.49264L11.8225 1.72624V1.69577Z'
        />
        <ParticlePath
          className={`${variant} ${animationClass}`}
          d='M1.18871 10.1766C1.23949 10.2071 1.30043 10.2274 1.36137 10.2274C1.38169 10.2274 1.41216 10.2274 1.43247 10.2172C1.45278 10.2172 1.4731 10.1969 1.49341 10.1766C1.51372 10.1461 1.53403 10.1055 1.53403 10.0649C1.53403 10.0243 1.53403 9.98364 1.52388 9.94302L1.46294 9.6891C1.46294 9.6891 1.46294 9.65863 1.46294 9.63832C1.46294 9.61801 1.4731 9.60785 1.48325 9.59769L1.68638 9.39456C1.68638 9.39456 1.74732 9.33362 1.75748 9.29299C1.76764 9.25237 1.77779 9.21174 1.75748 9.16096C1.73717 9.12033 1.71685 9.08986 1.67623 9.05939C1.6356 9.02892 1.59497 9.01877 1.55435 9.01877L1.29028 8.97814C1.29028 8.97814 1.22934 8.94767 1.21918 8.92736L1.07699 8.63282C1.07699 8.63282 1.03636 8.55156 0.995736 8.53125C0.965266 8.50078 0.914483 8.49063 0.873857 8.48047C0.833231 8.48047 0.782448 8.50078 0.751978 8.53125C0.721508 8.56172 0.691039 8.59219 0.670725 8.63282L0.528533 8.92736C0.528533 8.92736 0.487907 8.96798 0.457437 8.97814L0.193366 9.01877C0.193366 9.01877 0.112113 9.03908 0.071487 9.05939C0.0410173 9.07971 0.0105475 9.12033 -0.00976562 9.16096C-0.00976562 9.20159 -0.00976562 9.25237 -0.00976562 9.29299C0.000390956 9.33362 0.0308607 9.37425 0.0613304 9.39456L0.264462 9.59769C0.264462 9.59769 0.284775 9.62816 0.284775 9.63832C0.284775 9.64847 0.284775 9.66879 0.284775 9.6891L0.223836 9.94302C0.223836 9.94302 0.203523 10.0243 0.213679 10.0649C0.213679 10.1055 0.233992 10.1461 0.254305 10.1766C0.274619 10.1969 0.284775 10.2071 0.315245 10.2172C0.335558 10.2172 0.366028 10.2274 0.386341 10.2274C0.447281 10.2274 0.50822 10.2071 0.559003 10.1766L0.802761 10.0344C0.802761 10.0344 0.833231 10.0243 0.853544 10.0243C0.873857 10.0243 0.884014 10.0243 0.904327 10.0344L1.14808 10.1766H1.18871Z'
        />
        <ParticlePath
          className={`${variant} ${animationClass}`}
          d='M5.81978 23.3497C5.88072 23.3395 5.9315 23.3091 5.98228 23.2583C6.0026 23.238 6.01275 23.2176 6.02291 23.1973C6.02291 23.177 6.03307 23.1465 6.02291 23.1262C6.02291 23.0856 5.99244 23.045 5.97213 23.0145C5.94166 22.984 5.91119 22.9536 5.87056 22.9434L5.64712 22.8114C5.64712 22.8114 5.6268 22.7911 5.61665 22.7708C5.61665 22.7606 5.60649 22.7403 5.59633 22.72V22.4254C5.59633 22.4254 5.58618 22.334 5.56586 22.3035C5.54555 22.2629 5.51508 22.2325 5.47445 22.2121C5.43383 22.1918 5.3932 22.1918 5.34242 22.202C5.30179 22.202 5.26117 22.2325 5.2307 22.2629L5.01741 22.4254C5.01741 22.4254 4.95647 22.4457 4.926 22.4457L4.61114 22.3543C4.61114 22.3543 4.52989 22.334 4.47911 22.334C4.43848 22.334 4.39786 22.3645 4.35723 22.3848C4.32676 22.4153 4.3166 22.4661 4.30645 22.5067C4.30645 22.5473 4.30645 22.5981 4.32676 22.6387L4.43848 22.9434C4.43848 22.9434 4.43848 23.0044 4.43848 23.0348L4.28613 23.2583C4.28613 23.2583 4.24551 23.3294 4.23535 23.3801C4.23535 23.4208 4.23535 23.4716 4.25566 23.5122C4.27598 23.5528 4.3166 23.5731 4.35723 23.5934C4.39786 23.6137 4.43848 23.6137 4.48927 23.6137H4.78381C4.78381 23.6137 4.81428 23.6137 4.83459 23.6137C4.8549 23.6137 4.86506 23.6341 4.87522 23.6442L5.01741 23.8575C5.01741 23.8575 5.06819 23.9286 5.09866 23.9489C5.12913 23.9692 5.16976 23.9895 5.21038 23.9997C5.2307 23.9997 5.26117 23.9997 5.28148 23.9895C5.30179 23.9895 5.32211 23.9692 5.34242 23.9489C5.38305 23.8981 5.41352 23.8473 5.42367 23.7864L5.48461 23.502C5.48461 23.502 5.49477 23.4716 5.51508 23.4614C5.52524 23.4512 5.54555 23.4411 5.55571 23.4309L5.82993 23.3497H5.81978Z'
        />
        <ParticlePath
          className={`${variant} ${animationClass}`}
          d='M19.0637 23.827C19.1145 23.8575 19.1754 23.8778 19.2364 23.8778C19.2567 23.8778 19.2872 23.8778 19.3075 23.8676C19.3278 23.8676 19.3481 23.8473 19.3684 23.827C19.3887 23.7965 19.409 23.7559 19.409 23.7153C19.409 23.6747 19.409 23.634 19.3989 23.5934L19.3379 23.3395C19.3379 23.3395 19.3379 23.309 19.3379 23.2887C19.3379 23.2684 19.3481 23.2582 19.3583 23.2481L19.5614 23.045C19.5614 23.045 19.6223 22.984 19.6325 22.9434C19.6426 22.9028 19.6528 22.8621 19.6325 22.8113C19.6122 22.7707 19.5919 22.7403 19.5512 22.7098C19.5106 22.6793 19.47 22.6692 19.4293 22.6692L19.1653 22.6285C19.1653 22.6285 19.1043 22.5981 19.0942 22.5777L18.952 22.2832C18.952 22.2832 18.9114 22.202 18.8707 22.1816C18.8403 22.1512 18.7895 22.141 18.7489 22.1309C18.7082 22.1309 18.6574 22.1512 18.627 22.1816C18.5965 22.2121 18.566 22.2426 18.5457 22.2832L18.4035 22.5777C18.4035 22.5777 18.3629 22.6184 18.3324 22.6285L18.0684 22.6692C18.0684 22.6692 17.9871 22.6895 17.9465 22.7098C17.916 22.7301 17.8855 22.7707 17.8652 22.8113C17.8652 22.852 17.8652 22.9028 17.8652 22.9434C17.8754 22.984 17.9059 23.0246 17.9363 23.045L18.1395 23.2481C18.1395 23.2481 18.1598 23.2786 18.1598 23.2887C18.1598 23.2989 18.1598 23.3192 18.1598 23.3395L18.0988 23.5934C18.0988 23.5934 18.0785 23.6747 18.0887 23.7153C18.0887 23.7559 18.109 23.7965 18.1293 23.827C18.1496 23.8473 18.1598 23.8575 18.1902 23.8676C18.2106 23.8676 18.241 23.8778 18.2613 23.8778C18.3223 23.8778 18.3832 23.8575 18.434 23.827L18.6778 23.6848C18.6778 23.6848 18.7082 23.6747 18.7285 23.6747C18.7489 23.6747 18.759 23.6747 18.7793 23.6848L19.0231 23.827H19.0637Z'
        />
        <ParticlePath
          className={`${variant} ${animationClass}`}
          d='M22.7613 10.3286C22.7512 10.3895 22.7613 10.4504 22.7817 10.5114C22.7817 10.5317 22.802 10.552 22.8223 10.5723C22.8426 10.5926 22.8629 10.6028 22.8832 10.6028C22.9238 10.6028 22.9645 10.6028 23.0051 10.6028C23.0457 10.5926 23.0864 10.5723 23.1168 10.5419L23.3301 10.3895C23.3301 10.3895 23.3606 10.3793 23.3809 10.3692C23.4012 10.3692 23.4114 10.3692 23.4317 10.3692L23.7059 10.4809C23.7059 10.4809 23.7872 10.5114 23.8278 10.5114C23.8684 10.5114 23.909 10.4911 23.9497 10.4708C23.9801 10.4403 24.0004 10.3997 24.0106 10.359C24.0106 10.3184 24.0106 10.2676 24.0106 10.227L23.9497 9.96293C23.9497 9.96293 23.9497 9.90199 23.97 9.87152L24.1833 9.6176C24.1833 9.6176 24.234 9.54651 24.2544 9.50588C24.2645 9.46525 24.2544 9.41447 24.2544 9.37384C24.234 9.33322 24.2036 9.30275 24.1629 9.28244C24.1223 9.26212 24.0817 9.25197 24.0309 9.25197L23.7059 9.23165C23.7059 9.23165 23.645 9.21134 23.6246 9.19103L23.4825 8.96758C23.4825 8.96758 23.4317 8.89649 23.391 8.87617C23.3504 8.85586 23.3098 8.8457 23.2692 8.8457C23.2285 8.8457 23.1879 8.87617 23.1574 8.90664C23.127 8.93711 23.0965 8.97774 23.0863 9.01837L22.9746 9.29259C22.9746 9.29259 22.9543 9.32306 22.9442 9.33322C22.934 9.34338 22.9137 9.35353 22.9035 9.35353L22.6496 9.40432C22.6496 9.40432 22.5684 9.42463 22.5277 9.44494C22.4871 9.46525 22.4566 9.49572 22.4363 9.52619C22.4262 9.54651 22.416 9.57698 22.416 9.59729C22.416 9.6176 22.416 9.64807 22.4363 9.66839C22.4668 9.71917 22.5074 9.76995 22.5582 9.80042L22.7918 9.97308C22.7918 9.97308 22.8121 10.0036 22.8223 10.0137C22.8223 10.034 22.8324 10.0442 22.8223 10.0645L22.7817 10.3489L22.7613 10.3286Z'
        />
      </g>
      <FillPath
        className={`${variant} ${animationClass}`}
        d='m16.03,23.13c.7.45,1.5.7,2.33.74.33.01.66-.05.96-.19.3-.14.57-.34.77-.6.3-.47.49-1.01.56-1.56.07-.56.02-1.12-.16-1.65l-.8-3.44c-.03-.22-.01-.45.05-.66.06-.21.17-.41.31-.58l2.77-2.77c.46-.37.8-.86,1-1.42.19-.56.23-1.16.1-1.73-.23-.54-.6-1.02-1.09-1.36-.48-.34-1.05-.55-1.64-.58l-3.57-.59c-.41-.1-.75-.36-.97-.72l-1.97-3.94c-.21-.56-.57-1.06-1.05-1.42-.48-.37-1.04-.59-1.64-.65-.6.06-1.17.28-1.64.65-.48.37-.84.86-1.05,1.42l-1.97,3.94c-.22.36-.56.62-.96.72l-3.57.59c-.59.04-1.15.24-1.63.58-.48.34-.85.81-1.08,1.35-.13.58-.1,1.18.09,1.73.19.56.53,1.05.99,1.43l2.78,2.77c.14.17.25.37.31.59s.08.44.04.66l-.79,3.43c-.17.53-.23,1.1-.16,1.65.07.56.26,1.09.57,1.56.21.26.48.46.78.6.3.14.63.2.97.19.82-.04,1.62-.29,2.32-.74l3.34-1.98c.21-.11.45-.16.68-.15.24,0,.47.04.68.15l3.35,1.98Z'
        fill={fillColor}
      />
    </SvgIcon>
  );
};
